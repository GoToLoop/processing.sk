!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.ProcessingSk={})}(this,function(_){"use strict";if("function"==typeof require){var e=require("fs").readFileSync("bower_components/skulpt/skulpt.min.js").toString();(0,eval)(e)}var p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw r}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},t=Sk.builtin,n=t.str,o=t.func,i=t.NotImplementedError,d=t.pyCheckArgs,r=t.ValueError,f=t.TypeError,a=Sk.ffi,v=a.remapToJs,m=a.remapToPy,l=Sk.misceval,u=l.buildClass,s=l.callsim,c=Object.assign,g=Object.keys,h=Array.from,E=new Map,S=void 0;function P(u,s,e){var c=e||[];return new o(function(){var e=null;if("function"!=typeof u?u[s]&&(e=u[s]):e=u,null==e)throw new Error("Couldn't infer function to wrap");var t,r,n,o,i=h(arguments).filter(function(e){return void 0!==e});d(s,i,void 0===(t=c)?0:t.filter(function(e){return!e.optional}).length,c.length,!1),r=s,n=function(e,t){return[e,t]},o=c,i.map(function(e,t){return n(e,o[t])}).forEach(function(e){var t=p(e,2),n=t[0],o=t[1],i=Object.keys(o)[0];if(Array.isArray(o[i])||(o[i]=[o[i]]),!o[i].some(function(e){return!0===e||("string"==typeof e?n.tp$name===e:n instanceof e&&(!e.allowed||n in e.allowed))}))throw new f(r+": "+i+" (value: "+v(n)+") not of type "+o[i].map(function(e){return e.tp$name}))});var a=i.filter(function(e,t){return void 0===c[t].ignored||!c[t].ignored}).map(function(e,t){var n=c[t];return n===A?e:n.converter?n.converter(v(e)):v(e)}),l=e.apply(null,a);return m(l)})}function x(e){if("string"==typeof e){var t=/#([A-F0-9]{6})/g.exec(e);if(2!==t.length)throw new r(e+' not in the correct format for a color expecting "#AB12F4"');return parseInt(t[1],16)+4278190080}return e}var y=!0,T=!0,A={self:!0},R=new o(function(){throw new i}),b=(new n("processing"),new Proxy({},{get:function(e,t){return _.processingInstance[t]}}));function I(o){S=function(e,t){return u(o,(n=e,function(e,t){c(t,n)}),"OptionalContextManager_"+t,[]);var n}}function w(e,t){var n=g(e);if(!n.includes("__call__")||!n.includes("__enter__")||!n.includes("__exit__"))throw new Error("The optional context manager needs a __call__, __enter__ and __exit__ function.");return s(S(e,t))}function k(t,n,o){return function(){if(E.has(o))return E.get(o);var e=t.apply(null,n);return E.set(o,e),e}}var O=Sk.builtin,L=O.float_,D=O.int_,C={arc:P(b,"arc",[{x:[D,L]},{y:[D,L]},{width:[D,L]},{height:[D,L]},{start:[D,L]},{stop:[D,L]}]),ellipse:P(b,"ellipse",[{x:[D,L]},{y:[D,L]},{width:[D,L]},{height:[D,L]}]),line:P(b,"line",[{x1:[D,L]},{y1:[D,L]},{z1:[D,L]},{x2:[D,L]},{y2:[D,L],optional:y},{z2:[D,L],optional:y}]),point:P(b,"point",[{x:[D,L]},{y:[D,L]},{z:[D,L],optional:y}]),quad:P(b,"quad",[{x1:[D,L]},{y1:[D,L]},{x2:[D,L]},{y2:[D,L]},{x3:[D,L]},{y3:[D,L]},{x4:[D,L]},{y4:[D,L]}]),rect:P(b,"rect",[{x:[D,L]},{y:[D,L]},{width:[D,L]},{height:[D,L]},{tlradius:[D,L],optional:y},{trradius:[D,L],optional:y},{brradius:[D,L],optional:y},{blradius:[D,L],optional:y}]),triangle:P(b,"triangle",[{x1:[D,L]},{y1:[D,L]},{x2:[D,L]},{y2:[D,L]},{x3:[D,L]},{y3:[D,L]}])},N=Sk.builtin,M=N.float_,G=N.int_,F={box:P(b,"box",[{width:[G,M]},{height:[G,M],optional:y},{depth:[G,M],optional:y}]),sphere:P(b,"sphere",[{radius:[G,M]}]),sphereDetail:P(b,"sphereDetail",[{ures:G},{vres:G,optional:y}])},B=Sk.ffi.remapToPy,z={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:34028235e31,MIN_FLOAT:-34028235e31,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\fÂ ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,CHORD:2,PIE:3,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8},V=Object.keys(z).reduce(function(e,t){return e[t]=B(z[t]),e},{}),H=Sk.builtin,U=H.int_,X=H.str,Y=H.float_,j=V.ROUND,Z=V.SQUARE,W=V.BUTT,J=V.MITTER,K=V.BEVEL,q=V.CENTER,Q=V.RADIUS,$=V.CORNER,ee=V.CORNERS,te={ellipseMode:P(b,"ellipseMode",[{mode:U,allowed:[q,Q,$,ee]}]),noSmooth:P(b,"noSmooth"),smooth:P(b,"smooth",[{level:U,allows:[2,4,8],ignored:T,optional:y}]),rectMode:P(b,"rectMode",[{mode:U,allowed:[q,Q,$,ee]}]),strokeCap:P(b,"strokeCap",[{mode:X,allowed:[j,Z,W]}]),strokeJoin:P(b,"strokeJoin",[{mode:X,allowed:[J,K,j]}]),strokeWeight:P(b,"strokeWeight",[{width:[U,Y]}])},ne=Sk.builtin,oe=ne.int_,ie=ne.float_,re=ne.list,ae={abs:P(b,"abs",[{value:[oe,ie]}]),ceil:P(b,"ceil",[{value:[oe,ie]}]),constrain:P(b,"constrain",[{value:[oe,ie]},{min:[oe,ie]},{max:[oe,ie]}]),dist:P(b,"dist",[{x1:[oe,ie]},{y1:[oe,ie]},{z1:[oe,ie]},{x2:[oe,ie]},{y2:[oe,ie],optional:y},{z2:[oe,ie],optional:y}]),exp:P(b,"exp",[{value:[oe,ie]}]),floor:P(b,"floor",[{value:[oe,ie]}]),lerp:P(b,"lerp",[{value1:[oe,ie]},{value2:[oe,ie]},{amt:[oe,ie]}]),mag:P(b,"mag",[{a:[oe,ie]},{a:[oe,ie]},{a:[oe,ie],optional:y}]),map:P(b,"map",[{value:[oe,ie]},{low1:[oe,ie]},{high1:[oe,ie]},{low2:[oe,ie]},{high2:[oe,ie]}]),max:P(b,"max",[{values:[re,oe,ie]},{b:[oe,ie],optional:y},{c:[oe,ie],optional:y}]),min:P(b,"min",[{values:[re,oe,ie]},{b:[oe,ie],optional:y},{c:[oe,ie],optional:y}]),norm:P(b,"norm",[{value:[oe,ie]},{low:[oe,ie]},{high:[oe,ie]}]),pow:P(b,"pow",[{n:[oe,ie]},{e:[oe,ie]}]),round:P(b,"round",[{value:[oe,ie]}]),sq:P(b,"sq",[{value:[oe,ie]}]),sqrt:P(b,"sq",[{value:[oe,ie]}])},le=Sk.builtin,ue=le.float_,se=le.int_,ce=le.object,_e={beginCamera:k(w,[{__call__:P(function(e){return b.beginCamera(),e},"__call__",[A]),__enter__:P(function(e){return e},"__enter__",[A]),__exit__:P(function(){return b.endCamera()},"__exit__",[A,{exc_type:ce,ignored:T},{exc_value:ce,ignored:T},{traceback:ce,ignored:T}])},"beginCamera"],"beginCamera"),endCamera:P(b,"endCamera"),camera:P(b,"camera",[{eyeX:[se,ue],optional:y},{eyeY:[se,ue],optional:y},{eyeZ:[se,ue],optional:y},{centerX:[se,ue],optional:y},{centerY:[se,ue],optional:y},{centerZ:[se,ue],optional:y},{upX:[se,ue],optional:y},{upY:[se,ue],optional:y},{upZ:[se,ue],optional:y}]),frustum:P(b,"frustum",[{left:[se,ue]},{right:[se,ue]},{bottom:[se,ue]},{top:[se,ue]},{near:[se,ue]},{far:[se,ue]}]),ortho:P(b,"ortho",[{left:[se,ue],optional:y},{right:[se,ue],optional:y},{bottom:[se,ue],optional:y},{top:[se,ue],optional:y},{near:[se,ue],optional:y},{far:[se,ue],optional:y}]),perspective:P(b,"perspective",[{fov:[se,ue],optional:y},{aspect:[se,ue],optional:y},{zNear:[se,ue],optional:y},{zFar:[se,ue],optional:y}]),printCamera:P(b,"printCamera"),printProjection:P(b,"printProjection")},pe=V.BLEND,de=V.ADD,fe=V.SUBTRACT,ve=V.DARKEST,me=V.LIGHTEST,ge=V.DIFFERENCE,he=V.EXLUSION,Ee=V.MULTIPLY,Se=V.SCREEN,Pe=V.OVERLAY,xe=V.HARD_LIGHT,ye=V.SOFT_LIGHT,Te=V.DODGE,Ae=V.BURN,Re=Sk.builtin,be=Re.int_,Ie=Re.float_,we=Re.lng,ke=Re.str,Oe={alpha:P(b,"alpha",[{color:[be,we,Ie,ke],converter:x}]),blendColor:P(b,"blendColor",[{c1:[be,we,Ie,ke],converter:x},{c2:[be,we,Ie,ke],converter:x},{mode:be,allowed:[pe,de,fe,ve,me,ge,he,Ee,Se,Pe,xe,ye,Te,Ae]}]),blue:P(b,"blue",[{color:[be,we,Ie,ke],converter:x}]),brightness:P(b,"brightness",[{color:[be,we,Ie,ke],converter:x}]),green:P(b,"green",[{color:[be,we,Ie,ke],converter:x}]),hue:P(b,"hue",[{color:[be,we,Ie,ke],converter:x}]),lerpColor:P(b,"lerpColor",[{c1:[be,we,Ie,ke],converter:x},{c2:[be,we,Ie,ke],converter:x},{amt:[be,Ie]}]),red:P(b,"red",[{color:[be,we,Ie,ke],converter:x}]),saturation:P(b,"saturation",[{color:[be,we,Ie,ke],converter:x}])},Le=V.RGB,De=V.HSB,Ce=Sk.builtin,Ne=Ce.int_,Me=Ce.float_,Ge=Ce.str,Fe=Ce.lng,Be={background:P(b,"background",[{value1:[Ne,Fe,Me,Ge],converter:x},{value2:[Ne,Me],optional:y},{value2:[Ne,Me],optional:y},{alpha:[Ne,Me],optional:y}]),colorMode:P(b,"colorMode",[{mode:Ne,allowed:[Le,De]},{range1:[Ne,Me],optional:y},{range2:[Ne,Me],optional:y},{range3:[Ne,Me],optional:y},{range4:[Ne,Me],optional:y}]),fill:P(b,"fill",[{value1:[Ne,Fe,Me,Ge],converter:x},{value2:[Ne,Me],optional:y},{value2:[Ne,Me],optional:y},{alpha:[Ne,Me],optional:y}]),noFill:P(b,"noFill"),noStroke:P(b,"noStroke"),stroke:P(b,"stroke",[{value1:[Ne,Fe,Me,Ge],converter:x},{value2:[Ne,Me],optional:y},{value2:[Ne,Me],optional:y},{alpha:[Ne,Me],optional:y}])},ze=Sk.builtin,Ve=ze.float_,He=ze.int_,Ue=ze.str,Xe=ze.lng,Ye=P(b,"color",[{value1:[He,Ve,Ue,Xe],converter:x},{value2:[He,Ve],optional:y},{value3:[He,Ve],optional:y},{alpha:[He,Ve],optional:y}]),je=Sk.builtin,Ze=je.int_,We=je.float_,Je={modelX:P(b,"modelX",[{x:[Ze,We]},{y:[Ze,We]},{z:[Ze,We]}]),modelY:P(b,"modelY",[{x:[Ze,We]},{y:[Ze,We]},{z:[Ze,We]}]),modelZ:P(b,"modelZ",[{x:[Ze,We]},{y:[Ze,We]},{z:[Ze,We]}]),screenX:P(b,"screenX",[{x:[Ze,We]},{y:[Ze,We]},{z:[Ze,We]}]),screenY:P(b,"screenY",[{x:[Ze,We]},{y:[Ze,We]},{z:[Ze,We]}]),screenZ:P(b,"screenZ",[{x:[Ze,We]},{y:[Ze,We]},{z:[Ze,We]}])},Ke=Sk.builtin,qe=Ke.int_,Qe=Ke.float_,$e={bezier:P(b,"bezier",[{x1:[qe,Qe]},{y1:[qe,Qe]},{z1:[qe,Qe]},{cx1:[qe,Qe]},{cy1:[qe,Qe]},{cz1:[qe,Qe]},{cx2:[qe,Qe]},{cy2:[qe,Qe]},{cz2:[qe,Qe],optional:y},{x2:[qe,Qe],optional:y},{y2:[qe,Qe],optional:y},{z2:[qe,Qe],optional:y}]),bezierDetail:P(b,"bezierDetail",[{detail:qe}]),bezierPoint:P(b,"bezierPoint",[{a:[qe,Qe]},{b:[qe,Qe]},{c:[qe,Qe]},{d:[qe,Qe]},{t:[qe,Qe]}]),bezierTangent:P(b,"bezierTangent",[{a:[qe,Qe]},{b:[qe,Qe]},{c:[qe,Qe]},{d:[qe,Qe]},{t:[qe,Qe]}]),curve:P(b,"curve",[{x1:[qe,Qe]},{y1:[qe,Qe]},{z1:[qe,Qe]},{x2:[qe,Qe]},{y2:[qe,Qe]},{z2:[qe,Qe]},{x3:[qe,Qe]},{y3:[qe,Qe]},{z3:[qe,Qe],optional:y},{x4:[qe,Qe],optional:y},{y4:[qe,Qe],optional:y},{z4:[qe,Qe],optional:y}]),curveDetail:P(b,"curveDetail",[{detail:qe}]),curvePoint:P(b,"curvePoint",[{a:[qe,Qe]},{b:[qe,Qe]},{c:[qe,Qe]},{d:[qe,Qe]},{t:[qe,Qe]}]),curveTangent:P(b,"curveTangent"[{t:[qe,Qe]}]),curveTightness:P(b,"curveTightness",[{squishy:[qe,Qe]}])},et=Sk.ffi,tt=et.remapToPy,nt=et.remapToJs,ot=Sk.builtin,it=ot.func,rt=ot.int_,at=Sk.misceval.buildClass,lt=V.ARROW,ut=V.CROSS,st=V.HAND,ct=V.MOVE,_t=V.TEXT,pt=V.WAIT;function dt(e,t){t.__getattr__=new it(function(e,t){switch(nt(t)){case"frameCount":return tt(b.frameCount);case"frameRate":return tt(b.frameRate);case"height":return tt(b.height);case"width":return tt(b.width);case"online":return tt(b.online);case"focused":return tt(b.focused);default:return}})}function ft(e,t){t.__init__=P(function(e){e.v=b.__frameRate},"__init__",[A]),t.__call__=P(function(e,t){b.frameRate(t),e.v=t},"__call__",[A,{rate:rt}])}var vt=P(b,"cursor",[{image:["PImage",rt],allowed:[lt,ut,st,ct,_t,pt],optional:y},{x:rt,optional:y},{y:rt,optional:y}]),mt=P(b,"noCursor"),gt=function(){return tt(b.height)},ht=function(){return tt(b.width)},Et=function(){return tt(b.frameCount)},St=function(){return tt(b.focused)},Pt=Sk.builtin.str,xt={loadBytes:P(b,"loadBytes",[{filename:Pt}]),loadStrings:P(b,"loadStrings"[{filename:Pt}]),createInput:R,selectFolder:R,selectInput:R},yt=V.LEFT,Tt=V.CENTER,At=V.RIGHT,Rt=V.TOP,bt=V.BOTTOM,It=V.BASELINE,wt=V.MODEL,kt=V.SCREEN,Ot=V.SHAPE,Lt=Sk.builtin,Dt=Lt.int_,Ct=Lt.float_,Nt=Lt.str,Mt={textAlign:P(b,"textAlign",[{ALIGN:Dt,allowed:[yt,Tt,At]},{YALIGN:Dt,allowed:[Rt,bt,It,Tt]}]),textLeading:P(b,"textLeading",[{dist:[Dt,Ct]}]),textMode:P(b,"textMode",[{MODE:Dt,allowed:[wt,kt,Ot]}]),textSize:P(b,"textSize",[{size:[Dt,Ct]}]),textWidth:P(b,"textWidth",[{width:Nt}])},Gt={textAscent:P(b,"textAscent"),textDescent:P(b,"textDescent")},Ft=Sk.builtin,Bt=Ft.func,zt=Ft.float_,Vt=Ft.list,Ht=Ft.str,Ut=Ft.bool,Xt=Ft.int_,Yt=Sk.misceval,jt=Yt.buildClass,Zt=Yt.callsim,Wt=Yt.loadname;function Jt(e,t){t.__init__=P(function(e,t){t&&(e.v=new b.PFont(t))},"__init__",[A,{"input ":Ht,optional:y}]);var n=Wt("staticmethod",e),o=new Bt(function(){return new Vt(b.PFont.list())});t.list=Zt(n,o)}var Kt=P(function(e,t,n,o){var i=b.createFont(e,t,n,o),r=Zt(_.PFont);return r.v=i,r},"createFont",[{name:Ht},{size:[Xt,zt]},{smooth:Ut,optional:y},{charset:Ht,optional:y}]),qt=P(b,"loadFont",[{fontname:Ht}]),Qt=P(b,"text",[{data:[Ht,Xt,zt]},{x:[Xt,zt]},{y:[Xt,zt]},{z:[Xt,zt],optional:y},{height:[Xt,zt],optional:y},{z:[Xt,zt],optional:y}]),$t=P(b,"textFont",[{font:"PFont"},{size:[Xt,zt],optional:y}]),en=z.P2D,tn=z.JAVA2D,nn=z.WEBGL,on=z.P3D,rn=z.OPENGL,an=z.PDF,ln=z.DXF,un=Sk.builtin,sn=un.int_,cn=un.func,_n=Sk.misceval,pn=_n.buildClass,dn=_n.callsim,fn=Sk.ffi,vn=fn.remapToPy,mn=fn.remapToJs;function gn(r,e,t,n){r.v=b.createGraphics(e,t,n),void 0!==n&&n!==en&&n!==tn||(r.v.toImageData=function(e,t,n,o){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:b.width,o=void 0!==o?o:b.height;for(var i=void 0;void 0===i;)i=r.v.externals.context.getImageData(e,t,n,o);return i})}function hn(e,t){t.__init__=P(gn,"__init__",[A,{width:sn},{height:sn},{renderer:sn,allowed:[en,tn,nn,on,rn,an,ln],optional:y}]),t.beginDraw=new cn(function(e){e.v.beginDraw()}),t.endDraw=new cn(function(e){e.v.endDraw()}),t.__getattr__=new cn(function(e,t){var n=e.v[mn(t)];if(void 0!==n)return"function"==typeof n?new cn(function(e){var t=Array.from(arguments).map(mn);return vn(n.apply(e.v,t))}):vn(n)})}var En=new cn(function(e,t,n){return dn(_.PGraphics,e,t,n)}),Sn=new cn(function(e){b.hint(e)}),Pn=Sk.builtin,xn=Pn.func,yn=Pn.int_,Tn=Pn.list,An=Pn.str,Rn=Pn.float_,bn=Pn.lng,In=Pn.IOError,wn=Pn.list_iter_,kn=Sk.misceval,On=kn.buildClass,Ln=kn.callsim,Dn=kn.Suspension,Cn=Sk.ffi,Nn=Cn.remapToJs,Mn=Cn.remapToPy,Gn=V.BLEND,Fn=V.ADD,Bn=V.SUBTRACT,zn=V.LIGHTEST,Vn=V.DARKEST,Hn=V.DIFFERENCE,Un=V.EXCLUSION,Xn=V.MULTIPLY,Yn=V.SCREEN,jn=V.OVERLAY,Zn=V.HARD,Wn=V.LIGHT,Jn=V.SOFT_LIGHT,Kn=V.DODGE,qn=V.BURN,Qn=V.THRESHOLD,$n=V.GRAY,eo=V.INVERT,to=V.POSTERIZE,no=V.BLUR,oo=V.OPAQUE,io=V.ERODE,ro=V.DILATE,ao=V.CORNER,lo=V.CORNERS,uo=V.CENTER,so=V.RGB,co=V.ARGB,_o=V.ALPHA,po=null;function fo(e,t,n,o){e.v=new b.PImage(t,n,o)}function vo(e,t,n,o,i){var r=[t,n,o,i].filter(function(e){return void 0!==e});if(2==r.length)return e.v.get.apply(e.v,r);var a=Ln(_.PImage);return a.v=e.v.get.apply(e.v,r),a}function mo(e,t,n,o){e.v.set(t,n,o)}function go(e,t,n,o,i,r,a,l,u,s){return e.v.copy(t,n,o,i,r,a,l,u,s)}function ho(e,t){e.v.mask(t)}function Eo(e,t,n,o,i,r,a,l,u,s){e.v.blend(t,n,o,i,r,a,l,u,s)}function So(e,t,n){e.v.filter(t,n)}function Po(e,t){e.v.save(t)}function xo(e,t,n){e.v.save(t,n)}function yo(e){e.v.loadPixels()}function To(e,t,n,o,i){e.v.updatePixels(t,n,o,i)}function Ao(e,t){t.__init__=P(function(e,t){e.image=t},"__init__",[A,{image:"PImage",optional:y}]),t.__getitem__=P(function(e,t){return e.image.pixels.getPixel(t)},"__getitem__",[A,{index:yn}]),t.__setitem__=P(function(e,t,n){return e.image.pixels.setPixel(t,n)},"__setitem__",[A,{index:yn},{color:[yn,bn,Rn,An],converter:x}]),t.__iter__=new Sk.builtin.func(function(e){return Sk.builtin.pyCheckArgs("__iter__",arguments,0,0,!0,!1),new wn(new Tn(e.image.pixels.toArray()))}),t.__repr__=P(function(e){return"array('i', ["+e.image.pixels.toArray().join(", ")+"])"},"__repr__",[A]),t.__len__=P(function(e){return e.image.width*e.image.height},"__len__",[A])}function Ro(e,t){t.__init__=P(fo,"__init__",[A,{width:[yn,An],optional:y},{height:yn,optional:y},{format:yn,allowed:[1,2,4],optional:y}]),t.__getattr__=new xn(function(e,t){return"width"===(t=Nn(t))?Mn(e.v.width):"height"===t?Mn(e.v.height):"pixels"===t?Ln(po,e):void 0}),t.get=P(vo,"get",[A,{x:yn},{y:yn},{width:yn,optional:y},{height:yn,optional:y}]),t.set=P(mo,"set",[A,{x:yn},{y:yn},{color:[yn,bn,Rn,An],converter:x}]),t.copy=P(go,"copy",[A,{srcImg:[yn,"PImage"]},{sx:yn},{sy:yn},{swidth:yn},{sheight:yn},{dx:yn},{dy:yn},{dwidth:yn},{dheight:yn,optional:y}]),t.mask=P(ho,"mask",[A,{maskImg:["PImage",Tn]}]),t.blend=P(Eo,"blend",[A,{srcImg:[yn,"PImage"]},{x:yn},{y:yn},{width:yn},{height:yn},{dx:yn},{dy:yn},{dwidth:yn},{dheight:yn},{MODE:yn,optional:y,allowed:[Gn,Fn,Bn,zn,Vn,Hn,Un,Xn,Yn,jn,Zn,Wn,Jn,Kn,qn]}]),t.filter=P(So,"filter",[A,{MODE:yn,allowed:[Qn,$n,eo,to,no,oo,io,ro]},{srcImg:"PImage",optional:y}]),t.save=P(Po,"save",[A,{filename:An}]),t.resize=P(xo,"resize",[A,{wide:yn},{high:yn}]),t.loadPixels=P(yo,"loadPixels",[A]),t.updatePixels=P(To,"updatePixels",[A,{x:yn,optional:y},{y:yn,optional:y},{w:yn,optional:y},{h:yn,optional:y}])}var bo=P(function(e,t,n){var o=Sk.misceval.callsim(_.PImage);return o.v=b.createImage(e,t,n),o},"createFunc",[{width:yn},{height:yn},{format:yn,allowed:[so,co,_o]}]),Io=P(b,"image",[{img:["PImage","PGraphics"]},{x:[yn,Rn]},{y:[yn,Rn]},{width:[yn,Rn],optional:y},{height:[yn,Rn],optional:y}]),wo=P(b,"imageMode",[{mode:yn,allowed:[ao,lo,uo]}]),ko=P(function(t){var o=t;"function"==typeof Sk.imageProxy&&(o=Sk.imageProxy(t));var e=new Dn;return e.resume=function(){if(e.data.error)throw e.data.error;return e.data.result},e.data={type:"Sk.promise",promise:Promise.race([new Promise(function(e){return setTimeout(e,3e3)}),new Promise(function(e){var t=Ln(_.PImage),n=b.loadImage(o,{},function(){t.v=n,e(t)})})]).then(function(e){if(e)return e;throw new In("[Errno 2] No such file or directory: '"+t+"'")})},e},"loadImage",[{image:An},{extension:An,optional:y,ignored:T}]),Oo=P(b,"noTint"),Lo=P(function(e,t){var n=Sk.misceval.callsim(_.PImage);return n.v=b.requestImage(e,t),n},"requestImage",[{filename:An},{extension:An,optional:y}]),Do=P(b,"tint",[{value1:[yn,bn,Rn,An],converter:x},{value2:[yn,Rn],optional:y},{value3:[yn,Rn],optional:y},{alpha:[yn,Rn],optional:y}]),Co=P(b,"blend",[{srcImg:[yn,"PImage"]},{x:yn},{y:yn},{width:yn},{height:yn},{dx:yn},{dy:yn},{dwidth:yn},{dheight:yn},{MODE:yn,optional:y,allowed:[Gn,Fn,Bn,zn,Vn,Hn,Un,Xn,Yn,jn,Zn,Wn,Jn,Kn,qn]}]),No=P(b,"copy",[{srcImg:[yn,"PImage"]},{sx:yn},{sy:yn},{swidth:yn},{sheight:yn},{dx:yn},{dy:yn},{dwidth:yn},{dheight:yn,optional:y}]),Mo=P(b,"filter",[{MODE:yn,allowed:[Qn,$n,eo,to,no,oo,io,ro]},{srcImg:"PImage",optional:y}]),Go=P(b,"get",[{x:yn,optional:y},{y:yn,optional:y},{width:yn,optional:y},{height:yn,optional:y}]),Fo=P(b,"loadPixels"),Bo=P(b,"set",[{x:yn},{y:yn},{image:["PImage",yn,bn,Rn,An],converter:x}]),zo=P(b,"updatePixels");function Vo(){var e=Ln(po);return e.image={pixels:b.pixels},e}var Ho=Sk.ffi,Uo=Ho.remapToPy,Xo=Ho.remapToJs,Yo=Sk.builtin.func,jo=Sk.misceval.buildClass;function Zo(e,t){t.__getattr__=new Yo(function(e,t){return"key"===(t=Xo(t))?Uo(b.key.toString()):"keyCode"===t?Uo(b.keyCode):"keyPressed"===t?Uo(b.__keyPressed):void 0})}var Wo=function(){return Uo(b.key.toString())},Jo=function(){return Uo(b.keyCode)},Ko=function(){return Uo(b.__keyPressed)},qo=Sk.builtin,Qo=qo.int_,$o=qo.float_,ei={ambientLight:P(b,"ambientLight",[{v1:[Qo,$o]},{v2:[Qo,$o]},{v3:[Qo,$o]},{x:[Qo,$o],optional:y},{y:[Qo,$o],optional:y},{z:[Qo,$o],optional:y}]),directionalLight:P(b,"directionalLight",[{v1:[Qo,$o]},{v2:[Qo,$o]},{v3:[Qo,$o]},{nx:[Qo,$o],optional:y},{ny:[Qo,$o],optional:y},{nz:[Qo,$o],optional:y}]),lightFalloff:P(b,"lightFalloff",[{constant:[Qo,$o]},{linear:[Qo,$o]},{quardatic:[Qo,$o]}]),lightSpecular:P(b,"lightSpecular",[{v1:[Qo,$o]},{v2:[Qo,$o]},{v3:[Qo,$o]}]),lights:P(b,"lights"),noLights:P(b,"noLights"),normal:P(b,"normal",[{nx:[Qo,$o]},{ny:[Qo,$o]},{nz:[Qo,$o]}]),pointLight:P(b,"pointLight",[{v1:[Qo,$o]},{v2:[Qo,$o]},{v3:[Qo,$o]},{nx:[Qo,$o]},{ny:[Qo,$o]},{nz:[Qo,$o]}]),spotLight:P(b,"spotLight",[{v1:[Qo,$o]},{v2:[Qo,$o]},{v3:[Qo,$o]},{x:[Qo,$o]},{y:[Qo,$o]},{z:[Qo,$o]},{nx:[Qo,$o]},{ny:[Qo,$o]},{nz:[Qo,$o]},{angle:[Qo,$o]},{concentration:[Qo,$o]}])},ti=Sk.builtin,ni=ti.int_,oi=ti.float_,ii=ti.str,ri=ti.lng,ai={ambient:P(b,"ambient",[{gray:[ni,ri,oi,ii],converter:x},{v1:[ni,oi],optional:y},{v2:[ni,oi],optional:y},{v3:[ni,oi],optional:y}]),emissive:P(b,"emissive",[{gray:[ni,ri,oi,ii],converter:x},{v1:[ni,oi],optional:y},{v2:[ni,oi],optional:y},{v3:[ni,oi],optional:y}]),shininess:P(b,"shininess",[{shine:[ni,oi]}]),specular:P(b,"specular",[{gray:[ni,ri,oi,ii],converter:x},{v1:[ni,oi],optional:y},{v2:[ni,oi],optional:y},{v3:[ni,oi],optional:y}])},li=Sk.ffi,ui=li.remapToPy,si=li.remapToJs,ci=Sk.builtin.func,_i=Sk.misceval.buildClass;function pi(e,t){t.__getattr__=new ci(function(e,t){switch(si(t)){case"x":return ui(b.mouseX);case"y":return ui(b.mouseY);case"px":return ui(b.pmouseX);case"py":return ui(b.pmouseY);case"pressed":return ui(b.__mousePressed);case"button":return ui(b.mouseButton);default:return}})}var di=function(){return ui(b.mouseX)},fi=function(){return ui(b.mouseY)},vi=function(){return ui(b.pmouseX)},mi=function(){return ui(b.pmouseY)},gi=function(){return ui(b.__mousePressed)},hi=function(){return ui(b.mouseButton)},Ei=Sk.builtin,Si=Ei.object,Pi=Ei.str,xi=Ei.list,yi=Sk.misceval.print_,Ti={println:P(function(e){yi(e),yi("\n")},"println",[{data:Si}]),save:P(b,"save",[{filename:Pi}]),saveFrame:P(b,"saveFrame",[{filename:Pi},{ext:Pi,allowed:["tif","tga","jpg","png"]}]),saveStrings:P(b,"saveStrings",[{filename:Pi},{strings:xi}]),PrintWriter:R,beginRaw:R,beginRecord:R,createOutput:R,createReader:R,createWriter:R,endRaw:R,endRecord:R,saveBytes:R,saveStream:R,selectOuput:R},Ai=Sk.builtin,Ri=Ai.float_,bi=Ai.int_,Ii={noise:P(b,"noise",[{x:[bi,Ri]},{y:[bi,Ri],optional:y},{z:[bi,Ri],optional:y}]),noiseDetail:P(b,"noiseDetail",[{octave:bi},{falloff:[bi,Ri],optional:y}]),noiseSeed:P(b,"noiseSeed",[{value:bi}]),randomSeed:P(b,"randomSeed",[{value:bi}]),random:P(b,"random",[{low:[bi,Ri]},{high:[bi,Ri],optional:y}]),randomGaussian:P(b,"randomGaussian")},wi=Sk.ffi,ki=wi.remapToJs,Oi=wi.remapToPy,Li=Sk.misceval.buildClass,Di=Sk.builtin,Ci=Di.list,Ni=Di.func;function Mi(e,t){t.__init__=new Ni(function(e){e.pixels=null}),t.__getattr__=new Ni(function(e,t){switch(t=ki(t)){case"height":return Oi(Ta.height);case"width":return Oi(Ta.width);case"pixels":return null==e.pixels&&(e.pixels=new Ci(Ta.pixels.toArray())),e.pixels}})}var Gi=V.CORNER,Fi=V.CORNERS,Bi=V.CENTER,zi=Sk.builtin,Vi=zi.str,Hi=zi.int_,Ui=zi.float_,Xi=zi.bool,Yi=Sk.ffi,ji=Yi.remapToJs,Zi=Yi.remapToPy,Wi=Sk.misceval.buildClass;function Ji(e){return e.v.isVisible()}function Ki(e,t){e.v.setVisible(t)}function qi(e){e.v.disableStyle()}function Qi(e){e.v.enableStyle()}function $i(e,t){var n=e.v.getChild(t);if(null!=n){var o=Sk.misceval.callsim(_.PShape);return o.v=n,o}return null}function er(e,t,n,o){e.v.translate(t.v,n.v,o.v)}function tr(e,t){e.v.rotate(t)}function nr(e,t){e.v.rotateX(t)}function or(e,t){e.v.rotateY(t)}function ir(e,t){e.v.rotateZ(t)}function rr(e,t,n,o){e.v.scale(t,n,o)}function ar(e,t){t.__getattr__=new Sk.builtin.func(function(e,t){switch(t=ji(t)){case"width":return Zi(e.v.width);case"height":return Zi(e.v.height)}}),t.isVisible=P(Ji,"isVisible",[A]),t.setVisible=P(Ki,"setVisible"[{value:Xi}]),t.disableStyle=P(qi,"disableStyle",[A]),t.enableStyle=P(Qi,"enableStyle",[A]),t.getChild=P($i,"getChild",[A,{shape:_.PShape}]),t.translate=P(er,"translate",[A,{x:[Hi,Ui]},{y:[Hi,Ui]},{z:[Hi,Ui],optional:y}]),t.rotate=P(tr,"rotate",[A,{angle:[Hi,Ui]}]),t.rotateX=P(nr,"rotateX",[A,{angle:[Hi,Ui]}]),t.rotateY=P(or,"rotateY",[A,{angle:[Hi,Ui]}]),t.rotateZ=P(ir,"rotateZ",[A,{angle:[Hi,Ui]}]),t.scale=P(rr,"scale"[{z:[Hi,Ui],optional:y}])}var lr={loadShape:P(b,"loadShape",[{filename:Vi}]),shape:P(b,"shape",[{sh:"PShape"},{x:[Hi,Ui]},{y:[Hi,Ui]},{width:[Hi,Ui],optional:y},{height:[Hi,Ui],optional:y}]),shapeMode:P(b,"shapeMode",[{img:Hi,allowed:[Gi,Fi,Bi]}])},ur=Sk.builtin,sr=ur.int_,cr=ur.float_,_r=ur.str,pr=ur.list,dr={join:P(b,"join",[{stringArray:pr},{separator:_r}]),match:P(b,"match",[{str:_r},{regexp:_r}]),matchAll:P(b,"matchAll",[{str:_r},{regexp:_r}]),nf:P(b,"nf",[{value:[sr,cr,pr]},{digits:sr},{right:sr,optional:y}]),nfc:P(b,"nfc",[{value:[sr,cr,pr]},{right:sr,optional:y}]),nfp:P(b,"nfp",[{value:[sr,cr,pr]},{digits:sr},{right:sr,optional:y}]),nfs:P(b,"nfs",[{value:[sr,cr,pr]},{digits:sr},{right:sr,optional:y}]),split:P(b,"split",[{string:_r},{delimiter:_r}]),splitTokens:P(b,"splitTokens",[{string:_r},{delimiter:_r,optional:y}]),trim:P(b,"trim",[{strOrArray:[_r,pr]}])},fr=Sk.builtin,vr=fr.int_,mr=fr.object,gr=V.P2D,hr=V.JAVA2D,Er=V.WEBGL,Sr=V.P3D,Pr=V.OPENGL,xr=V.PDF,yr=V.DXF;var Tr={loop:P(function(){if(ya())throw new Sk.builtin.Exception("loop() should be called after run()");Ta.loop()},"loop"),noLoop:P(function(){if(ya())throw new Sk.builtin.Exception("noLoop() should be called after run()");b.noLoop()},"noLoop"),size:P(function(e,t,n){void 0!==n&&n!==gr&&n!==hr||(Ta.toImageData=function(e,t,n,o){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:Ta.width,o=void 0!==o?o:Ta.height;for(var i=void 0;void 0===i;)i=Ta.externals.context.getImageData(e,t,n,o);return i}),Ta.size(e,t,n)},"size",[{width:vr},{height:vr},{renderer:vr,allowed:[gr,hr,Er,Sr,Pr,xr,yr],optional:y}]),exit:P(b,"exit"),redraw:P(b,"redraw"),pushStyle:k(w,[{__call__:P(function(e){return b.pushStyle(),e},"__call__",[A]),__enter__:P(function(e){return e},"__enter__",[A]),__exit__:P(function(){return b.popStyle()},"__exit__",[A,{exc_type:mr,ignored:T},{exc_value:mr,ignored:T},{traceback:mr,ignored:T}])},"pushStyle"],"pushStyle"),popStyle:P(b,"popStyle")},Ar={day:P(b,"day"),hour:P(b,"hour"),millis:P(b,"millis"),minute:P(b,"minute"),month:P(b,"month"),second:P(b,"second"),year:P(b,"year")},Rr=Sk.builtin,br=Rr.float_,Ir=Rr.int_,wr=Rr.object,kr={applyMatrix:P(b,"applyMatrix",[{n00:[Ir,br]},{n01:[Ir,br]},{n02:[Ir,br]},{n03:[Ir,br]},{n04:[Ir,br]},{n05:[Ir,br]},{n06:[Ir,br]},{n07:[Ir,br]},{n08:[Ir,br]},{n09:[Ir,br]},{n10:[Ir,br]},{n11:[Ir,br]},{n12:[Ir,br]},{n13:[Ir,br]},{n14:[Ir,br]},{n15:[Ir,br]}]),popMatrix:P(b,"popMatrix"),printMatrix:P(b,"printMatrix"),pushMatrix:k(w,[{__call__:P(function(e){return b.pushMatrix(),e},"__call__",[A]),__enter__:P(function(e){return e},"__enter__",[A]),__exit__:P(function(){return b.popMatrix()},"__exit__",[A,{exc_type:wr,ignored:T},{exc_value:wr,ignored:T},{traceback:wr,ignored:T}])},"pushMatrix"],"pushMatrix"),resetMatrix:P(b,"resetMatrix"),rotate:P(b,"rotate",[{angle:[Ir,br]}]),rotateX:P(b,"rotateX",[{angle:[Ir,br]}]),rotateY:P(b,"rotateY",[{angle:[Ir,br]}]),rotateZ:P(b,"rotateZ",[{angle:[Ir,br]}]),scale:P(b,"scale",[{size:[Ir,br]},{y:[Ir,br],optional:y},{z:[Ir,br],optional:y}]),translate:P(b,"translate",[{x:[Ir,br]},{y:[Ir,br]},{z:[Ir,br],optional:y}])},Or=Sk.builtin,Lr=Or.int_,Dr=Or.float_,Cr={degrees:P(b,"degrees",[{angle:[Lr,Dr]}]),radians:P(b,"radians",[{angle:[Lr,Dr]}]),cos:P(b,"cos",[{angle:[Lr,Dr]}]),sin:P(b,"sin",[{angle:[Lr,Dr]}]),tan:P(b,"tan",[{angle:[Lr,Dr]}]),acos:P(b,"acos",[{value:[Lr,Dr]}]),asin:P(b,"asin",[{value:[Lr,Dr]}]),atan:P(b,"tan",[{angle:[Lr,Dr]}]),atan2:P(b,"atan2",[{x:[Lr,Dr]},{y:[Lr,Dr]}])},Nr=Sk.builtin,Mr=Nr.int_,Gr=Nr.float_,Fr=Sk.misceval,Br=Fr.callsim,zr=Fr.buildClass,Vr=Sk.ffi.remapToPy;function Hr(e,t,n,o){e.v=new Ta.PVector(t,n,o)}function Ur(e,t,n,o){e.v.set(t,n,o)}function Xr(e){var t=Br(_.PVector);return t.v=e.v.get(),t}function Yr(e,t){var n=Br(_.PVector);return n.v=e.v.add(t),n}function jr(e,t){var n=Br(_.PVector);return n.v=e.v.sub(t),n}function Zr(e,t){var n=Br(_.PVector);return n.v=e.v.mult(t),n}function Wr(e,t){var n=Br(_.PVector);return n.v=e.v.div(t),n}function Jr(e,t){var n=Br(_.PVector);return n.v=e.v.dot(t),n}function Kr(e,t){var n=Br(_.PVector);return n.v=e.v.cross(t),n}function qr(e,t){var n=Br(_.PVector);return n.v=e.v.dist(t),n}function Qr(e,t){var n=Br(_.PVector);return n.v=e.v.angleBetween(t),n}function $r(e,t){e.v.limit(t)}function ea(e,t){t.__init__=P(Hr,"__init__",[A,{x:Mr,optional:y},{y:Mr,optional:y},{z:Mr,optional:y}]),t.__getattr__=new Sk.builtin.func(function(e,t){return"x"===(t=Sk.ffi.remapToJs(t))?Vr(e.v.x):"y"===t?Vr(e.v.y):"z"===t?Sk.builtin.assk$(e.v.z):void 0}),t.get=P(Xr,"get",[A]),t.set=P(Ur,"set",[A,{x:Mr},{x:Mr,optional:y},{x:Mr,optional:y}]),t.mag=P(function(e){return e.v.mag()},"mag",[A]),t.add=P(Yr,"add",[A,{vector:"PVector"}]),t.sub=P(jr,"sub",[A,{vector:"PVector"}]),t.mult=P(Zr,"mult",[A,{vector:"PVector"}]),t.div=P(Wr,"div",[A,{vector:"PVector"}]),t.dist=P(qr,"dist",[A,{vector:"PVector"}]),t.dot=P(Jr,"dot",[A,{x:[Mr,Gr]},{y:[Mr,Gr],optional:y},{z:[Mr,Gr],optional:y}]),t.cross=P(Kr,"cross",[A,{vector:"PVector"}]),t.normalize=P(function(e){return e.normalize()},"normalize",[A]),t.limit=P($r,"limit",[A,{value:[Mr,Gr]}]),t.angleBetween=P(Qr,"angleBetween",[A,{vector:"PVector"}]),t.array=P(function(e){return e.v.array()},"array",[A]),t.__repr__=P(function(e){return e.v.toString()},"repr",[A])}var ta=Sk.builtin,na=ta.float_,oa=ta.int_,ia=ta.object,ra=V.IMAGE,aa=V.NORMALIZED,la=V.POINTS,ua=V.LINES,sa=V.TRIANGLES,ca=V.TRIANGLE_FAN,_a=V.TRIANGLE_STRIP,pa=V.QUADS,da=V.QUAD_STRIP,fa=V.CLOSE,va={beginShape:k(w,[{__call__:P(function(e,t){return b.beginShape(t),e},"__call__",[A,{MODE:oa,allowed:[la,ua,sa,ca,_a,pa,da],optional:y}]),__enter__:P(function(e){return e},"__enter__",[A]),__exit__:P(function(){return b.endShape},"__exit__",[A,{exc_type:ia,ignored:T},{exc_value:ia,ignored:T},{traceback:ia,ignored:T}])},"beginShape"],"beginShape"),beginClosedShape:k(w,[{__call__:P(function(e,t){return b.beginShape(t),e},"__call__",[A,{MODE:oa,allowed:[la,ua,sa,ca,_a,pa,da],optional:y}]),__enter__:P(function(e){return e},"__enter__"[A]),__exit__:P(function(){return b.endShape(z.CLOSE)},"__exit__",[A,{exc_type:ia,ignored:T},{exc_value:ia,ignored:T},{traceback:ia,ignored:T}])},"beginClosedShape"],"beginClosedShape"),endShape:P(b,"endShape",[{MODE:oa,allowed:[fa],optional:y}]),vertex:P(b,"vertex",[{x:[oa,na]},{y:[oa,na]},{z:[oa,na],optional:y},{u:[oa,na],optional:y},{v:[oa,na],optional:y}]),bezierVertex:P(b,"bezierVertex",[{cx1:[oa,na]},{cy1:[oa,na]},{cz1:[oa,na]},{cx2:[oa,na]},{cy2:[oa,na]},{cz2:[oa,na]},{x:[oa,na],optional:y},{y:[oa,na],optional:y},{z:[oa,na],optional:y}]),curveVertex:P(b,"curveVertex",[{x:[oa,na]},{y:[oa,na]},{z:[oa,na],optional:y}]),texture:P(b,"texture",[{img:"PImage"}]),textureMode:P(b,"textureMode",[{img:oa,allowed:[ra,aa]}])},ma=Sk.builtin.str,ga={link:P(b,"link"[{target:ma,optional:y}]),status:P(b,"status",[{text:ma}])},ha=Sk.misceval,Ea=ha.callsim,Sa=ha.asyncToPromise,Pa=ha.callsimOrSuspend,xa={};function ya(){return null==Ta}_.processingInstance={},_.PImage=void 0,_.PShape=void 0,_.PGraphics=void 0,_.PVector=void 0,_.PFont=void 0;var Ta=b,Aa=void 0,Ra=void 0,ba=null,Ia=!0,wa=function(){return!0};_.isInitialised=ya,_.processing=Ta,_.init=function(e,t,n,o){if(Aa=t,void 0!==n&&"function"!=typeof n)throw new Error("breakHandler must be a function if anything");Ra=n,Sk.externalLibraries=Sk.externalLibraries||{},Object.assign(Sk.externalLibraries,{"./processing/__init__.js":{path:e+"/__init__.js"}}),"function"==typeof o&&(wa=o)},_.main=function(){var e;_.PImage=(po=On(e=xa,Ao,"ImageProxy",[]),On(e,Ro,"PImage",[])),_.PShape=Wi(xa,ar,"PShape",[]),_.PGraphics=pn(xa,hn,"PGraphics",[]),_.PVector=zr(xa,ea,"PVector",[]),_.PFont=jt(xa,Jt,"PFont",[]);var t=at(xa,dt,"Environment",[]),n=at(xa,ft,"FrameRate",[rt]),o=Ea(n),i=Ea(t),r=_i(xa,pi,"Mouse",[]),a=Ea(r),l=jo(xa,Zo,"Keyboard",[]),u=Ea(l),s=Li(xa,Mi,"Screen",[]),c=Ea(s);return I(xa),Object.assign(xa,C,F,te,ae,_e,Oe,Be,{color:Ye},V,Je,$e,{Environment:t,environment:i,cursor:vt,noCursor:mt,height:gt,width:ht,frameCount:Et,frameRate:o,focused:St},xt,Mt,Gt,{PFont:_.PFont,createFont:Kt,loadFont:qt,text:Qt,textFont:$t},{PGraphics:_.PGraphics,createGraphics:En,hint:Sn},{PImage:_.PImage},{image:Io,createImage:bo,imageMode:wo,loadImage:ko,noTint:Oo,requestImage:Lo,tint:Do,blend:Co,copy:No,filter:Mo,get:Go,loadPixels:Fo,set:Bo,updatePixels:zo,pixels:Vo},{keyboard:u,Keyboard:l,keyCode:Jo,key:Wo,keyPressed:Ko},ei,ai,{Mouse:r,mouse:a,mouseX:di,mouseY:fi,pmouseX:vi,pmouseY:mi,mousePressed:gi,mouseButton:hi},Ti,Ii,{Screen:s,screen:c},{PShape:_.PShape},Tr,Ar,kr,Cr,{PVector:_.PVector},va,ga,lr,dr),xa.disableDoubleBuffer=new Sk.builtin.func(function(){return Ia=!1,Sk.builtin.none.none$}),xa.run=new Sk.builtin.func(function(){var e=new Sk.misceval.Suspension,a=null,n=null,t=null,o=null;e.resume=function(){if(e.data.error)throw e.data.error;return Sk.builtin.none.none$},e.data={type:"Sk.promise",promise:new Promise(function(e,t){a=t,n=e})};var i=new window.Processing.Sketch(function(n){function o(e){a(e),n.exit()}_.processingInstance=n,Sk.globals.setup&&(n.setup=function(){return Sa(function(){return Pa(Sk.globals.setup)},Aa)}),Sk.globals.draw&&(n.draw=function(){if(Ra)try{Ra()}catch(e){o(e)}return Sa(function(){return Pa(Sk.globals.draw)},Aa)});var i=["mouseMoved","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","keyPressed","keyReleased","keyTyped"];for(var r in i)Sk.globals[i[r]]&&function(){var e=i[r],t=Sk.globals[e];"keyPressed"==e&&(Sk.globals[e]=Ko),"mousePressed"==e&&(Sk.globals[e]=gi),n[e]=function(){return Sa(function(){return Sk.misceval.callsimOrSuspend(t)},Aa).catch(function(e){return o(e)})}}()});i.options.globalKeyEvents=!0,i.options.eventPredicate=wa,i.onExit=function(e){e?a(e):n()},i.onSetup=function(e){e&&a(e)};var r=document.getElementById(Sk.canvas);for("CANVAS"===r.tagName&&((o=r.parentNode).removeChild(r),r=o),(t=document.createElement("canvas")).id=Sk.canvas+"-psk";r.firstChild;)r.removeChild(r.firstChild);Ia?(t.style="display:none",ba=document.createElement("canvas"),r.appendChild(ba)):r.appendChild(t);var l=window.Processing.getInstanceById(Sk.canvas+"-psk");return l&&l.exit(),i.options.focusElement=r,setTimeout(function(){xa.p=new window.Processing(t,i,null,ba)},300),e}),xa},Object.defineProperty(_,"__esModule",{value:!0})});