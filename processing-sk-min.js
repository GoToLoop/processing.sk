!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.ProcessingSk={})}(this,function(p){"use strict";function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,l=e[Symbol.iterator]();!(o=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}if("function"==typeof require){var e=require("fs").readFileSync("bower_components/skulpt/skulpt.min.js").toString();(0,eval)(e)}var i,t=Sk.builtin,n=t.str,o=t.func,r=t.NotImplementedError,f=t.pyCheckArgs,a=t.ValueError,v=t.TypeError,l=Sk.ffi,m=l.remapToJs,g=l.remapToPy,u=Sk.misceval,s=u.buildClass,c=u.callsim,h=Object.assign,E=Object.keys,S=Array.from,P=new Map;function x(u,s,e){var c=e||[];return new o(function(){if(!Aa())throw new Error('cannot call "'.concat(s,'" outside "draw", "setup" or event handlers'));var e=null;if("function"!=typeof u?u[s]&&(e=u[s]):e=u,null==e)throw new Error("Couldn't infer function to wrap");var t,r,n,o,i=S(arguments).filter(function(e){return void 0!==e});f(s,i,void 0===(t=c)?0:t.filter(function(e){return!e.optional}).length,c.length,!1),r=s,n=function(e,t){return[e,t]},o=c,i.map(function(e,t){return n(e,o[t])}).forEach(function(e){var t=d(e,2),n=t[0],o=t[1],i=Object.keys(o)[0];if(Array.isArray(o[i])||(o[i]=[o[i]]),!o[i].some(function(e){return!0===e||("string"==typeof e?n.tp$name===e:n instanceof e&&(!e.allowed||n in e.allowed))}))throw new v("".concat(r,": ").concat(i," (value: ").concat(m(n),") not of type ").concat(o[i].map(function(e){return e.tp$name})))});var a=i.filter(function(e,t){return void 0===c[t].ignored||!c[t].ignored}).map(function(e,t){var n=c[t];return n===R?e:n.converter?n.converter(m(e)):m(e)}),l=e.apply(null,a);return g(l)})}function y(e){if("string"!=typeof e)return e;var t=/#([A-F0-9]{6})/g.exec(e);if(2!==t.length)throw new a("".concat(e,' not in the correct format for a color expecting "#AB12F4"'));return parseInt(t[1],16)+4278190080}var T=!0,A=!0,R={self:!0},I=new o(function(){throw new r}),b=(new n("processing"),new Proxy({},{get:function(e,t){return p.processingInstance[t]}}));function w(o){i=function(e,t){return s(o,(n=e,function(e,t){h(t,n)}),"OptionalContextManager_"+t,[]);var n}}function k(e,t){var n=E(e);if(!n.includes("__call__")||!n.includes("__enter__")||!n.includes("__exit__"))throw new Error("The optional context manager needs a __call__, __enter__ and __exit__ function.");return c(i(e,t))}function O(t,n,o){return function(){if(P.has(o))return P.get(o);var e=t.apply(null,n);return P.set(o,e),e}}var D=Sk.builtin,L=D.float_,C=D.int_,N={arc:x(b,"arc",[{x:[C,L]},{y:[C,L]},{width:[C,L]},{height:[C,L]},{start:[C,L]},{stop:[C,L]}]),ellipse:x(b,"ellipse",[{x:[C,L]},{y:[C,L]},{width:[C,L]},{height:[C,L]}]),line:x(b,"line",[{x1:[C,L]},{y1:[C,L]},{z1:[C,L]},{x2:[C,L]},{y2:[C,L],optional:T},{z2:[C,L],optional:T}]),point:x(b,"point",[{x:[C,L]},{y:[C,L]},{z:[C,L],optional:T}]),quad:x(b,"quad",[{x1:[C,L]},{y1:[C,L]},{x2:[C,L]},{y2:[C,L]},{x3:[C,L]},{y3:[C,L]},{x4:[C,L]},{y4:[C,L]}]),rect:x(b,"rect",[{x:[C,L]},{y:[C,L]},{width:[C,L]},{height:[C,L]},{tlradius:[C,L],optional:T},{trradius:[C,L],optional:T},{brradius:[C,L],optional:T},{blradius:[C,L],optional:T}]),triangle:x(b,"triangle",[{x1:[C,L]},{y1:[C,L]},{x2:[C,L]},{y2:[C,L]},{x3:[C,L]},{y3:[C,L]}])},M=Sk.builtin,G=M.float_,B=M.int_,F={box:x(b,"box",[{width:[B,G]},{height:[B,G],optional:T},{depth:[B,G],optional:T}]),sphere:x(b,"sphere",[{radius:[B,G]}]),sphereDetail:x(b,"sphereDetail",[{ures:B},{vres:B,optional:T}])},z=Sk.ffi.remapToPy,V={X:0,Y:1,Z:2,R:3,G:4,B:5,A:6,U:7,V:8,NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:1e-4,MAX_FLOAT:34028235e31,MIN_FLOAT:-34028235e31,MAX_INT:2147483647,MIN_INT:-2147483648,PI:Math.PI,TWO_PI:2*Math.PI,TAU:2*Math.PI,HALF_PI:Math.PI/2,THIRD_PI:Math.PI/3,QUARTER_PI:Math.PI/4,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,WHITESPACE:" \t\n\r\fÂ ",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1,ADD:2,SUBTRACT:4,LIGHTEST:8,DARKEST:16,DIFFERENCE:32,EXCLUSION:64,MULTIPLY:128,SCREEN:256,OVERLAY:512,HARD_LIGHT:1024,SOFT_LIGHT:2048,DODGE:4096,BURN:8192,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,CHORD:2,PIE:3,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:32768,PREC_MAXVAL:32767,PREC_ALPHA_SHIFT:9,PREC_RED_SHIFT:1,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8},H=Object.keys(V).reduce(function(e,t){return e[t]=z(V[t]),e},{}),U=Sk.builtin,X=U.int_,Y=U.str,j=U.float_,Z=H.ROUND,W=H.SQUARE,J=H.BUTT,K=H.MITTER,q=H.BEVEL,Q=H.CENTER,$=H.RADIUS,ee=H.CORNER,te=H.CORNERS,ne={ellipseMode:x(b,"ellipseMode",[{mode:X,allowed:[Q,$,ee,te]}]),noSmooth:x(b,"noSmooth"),smooth:x(b,"smooth",[{level:X,allows:[2,4,8],ignored:A,optional:T}]),rectMode:x(b,"rectMode",[{mode:X,allowed:[Q,$,ee,te]}]),strokeCap:x(b,"strokeCap",[{mode:Y,allowed:[Z,W,J]}]),strokeJoin:x(b,"strokeJoin",[{mode:Y,allowed:[K,q,Z]}]),strokeWeight:x(b,"strokeWeight",[{width:[X,j]}])},oe=Sk.builtin,ie=oe.int_,re=oe.float_,ae=oe.list,le={abs:x(b,"abs",[{value:[ie,re]}]),ceil:x(b,"ceil",[{value:[ie,re]}]),constrain:x(b,"constrain",[{value:[ie,re]},{min:[ie,re]},{max:[ie,re]}]),dist:x(b,"dist",[{x1:[ie,re]},{y1:[ie,re]},{z1:[ie,re]},{x2:[ie,re]},{y2:[ie,re],optional:T},{z2:[ie,re],optional:T}]),exp:x(b,"exp",[{value:[ie,re]}]),floor:x(b,"floor",[{value:[ie,re]}]),lerp:x(b,"lerp",[{value1:[ie,re]},{value2:[ie,re]},{amt:[ie,re]}]),mag:x(b,"mag",[{a:[ie,re]},{a:[ie,re]},{a:[ie,re],optional:T}]),map:x(b,"map",[{value:[ie,re]},{low1:[ie,re]},{high1:[ie,re]},{low2:[ie,re]},{high2:[ie,re]}]),max:x(b,"max",[{values:[ae,ie,re]},{b:[ie,re],optional:T},{c:[ie,re],optional:T}]),min:x(b,"min",[{values:[ae,ie,re]},{b:[ie,re],optional:T},{c:[ie,re],optional:T}]),norm:x(b,"norm",[{value:[ie,re]},{low:[ie,re]},{high:[ie,re]}]),pow:x(b,"pow",[{n:[ie,re]},{e:[ie,re]}]),round:x(b,"round",[{value:[ie,re]}]),sq:x(b,"sq",[{value:[ie,re]}]),sqrt:x(b,"sq",[{value:[ie,re]}])},ue=Sk.builtin,se=ue.float_,ce=ue.int_,pe=ue.object,_e={beginCamera:O(k,[{__call__:x(function(e){return b.beginCamera(),e},"__call__",[R]),__enter__:x(function(e){return e},"__enter__",[R]),__exit__:x(function(){return b.endCamera()},"__exit__",[R,{exc_type:pe,ignored:A},{exc_value:pe,ignored:A},{traceback:pe,ignored:A}])},"beginCamera"],"beginCamera"),endCamera:x(b,"endCamera"),camera:x(b,"camera",[{eyeX:[ce,se],optional:T},{eyeY:[ce,se],optional:T},{eyeZ:[ce,se],optional:T},{centerX:[ce,se],optional:T},{centerY:[ce,se],optional:T},{centerZ:[ce,se],optional:T},{upX:[ce,se],optional:T},{upY:[ce,se],optional:T},{upZ:[ce,se],optional:T}]),frustum:x(b,"frustum",[{left:[ce,se]},{right:[ce,se]},{bottom:[ce,se]},{top:[ce,se]},{near:[ce,se]},{far:[ce,se]}]),ortho:x(b,"ortho",[{left:[ce,se],optional:T},{right:[ce,se],optional:T},{bottom:[ce,se],optional:T},{top:[ce,se],optional:T},{near:[ce,se],optional:T},{far:[ce,se],optional:T}]),perspective:x(b,"perspective",[{fov:[ce,se],optional:T},{aspect:[ce,se],optional:T},{zNear:[ce,se],optional:T},{zFar:[ce,se],optional:T}]),printCamera:x(b,"printCamera"),printProjection:x(b,"printProjection")},de=H.BLEND,fe=H.ADD,ve=H.SUBTRACT,me=H.DARKEST,ge=H.LIGHTEST,he=H.DIFFERENCE,Ee=H.EXLUSION,Se=H.MULTIPLY,Pe=H.SCREEN,xe=H.OVERLAY,ye=H.HARD_LIGHT,Te=H.SOFT_LIGHT,Ae=H.DODGE,Re=H.BURN,Ie=Sk.builtin,be=Ie.int_,we=Ie.float_,ke=Ie.lng,Oe=Ie.str,De={alpha:x(b,"alpha",[{color:[be,ke,we,Oe],converter:y}]),blendColor:x(b,"blendColor",[{c1:[be,ke,we,Oe],converter:y},{c2:[be,ke,we,Oe],converter:y},{mode:be,allowed:[de,fe,ve,me,ge,he,Ee,Se,Pe,xe,ye,Te,Ae,Re]}]),blue:x(b,"blue",[{color:[be,ke,we,Oe],converter:y}]),brightness:x(b,"brightness",[{color:[be,ke,we,Oe],converter:y}]),green:x(b,"green",[{color:[be,ke,we,Oe],converter:y}]),hue:x(b,"hue",[{color:[be,ke,we,Oe],converter:y}]),lerpColor:x(b,"lerpColor",[{c1:[be,ke,we,Oe],converter:y},{c2:[be,ke,we,Oe],converter:y},{amt:[be,we]}]),red:x(b,"red",[{color:[be,ke,we,Oe],converter:y}]),saturation:x(b,"saturation",[{color:[be,ke,we,Oe],converter:y}])},Le=H.RGB,Ce=H.HSB,Ne=Sk.builtin,Me=Ne.int_,Ge=Ne.float_,Be=Ne.str,Fe=Ne.lng,ze={background:x(b,"background",[{value1:[Me,Fe,Ge,Be,"PImage"],converter:y},{value2:[Me,Ge],optional:T},{value2:[Me,Ge],optional:T},{alpha:[Me,Ge],optional:T}]),colorMode:x(b,"colorMode",[{mode:Me,allowed:[Le,Ce]},{range1:[Me,Ge],optional:T},{range2:[Me,Ge],optional:T},{range3:[Me,Ge],optional:T},{range4:[Me,Ge],optional:T}]),fill:x(b,"fill",[{value1:[Me,Fe,Ge,Be],converter:y},{value2:[Me,Ge],optional:T},{value2:[Me,Ge],optional:T},{alpha:[Me,Ge],optional:T}]),noFill:x(b,"noFill"),noStroke:x(b,"noStroke"),stroke:x(b,"stroke",[{value1:[Me,Fe,Ge,Be],converter:y},{value2:[Me,Ge],optional:T},{value2:[Me,Ge],optional:T},{alpha:[Me,Ge],optional:T}])},Ve=Sk.builtin,He=Ve.float_,Ue=Ve.int_,Xe=Ve.str,Ye=Ve.lng,je=x(b,"color",[{value1:[Ue,He,Xe,Ye],converter:y},{value2:[Ue,He],optional:T},{value3:[Ue,He],optional:T},{alpha:[Ue,He],optional:T}]),Ze=Sk.builtin,We=Ze.int_,Je=Ze.float_,Ke={modelX:x(b,"modelX",[{x:[We,Je]},{y:[We,Je]},{z:[We,Je]}]),modelY:x(b,"modelY",[{x:[We,Je]},{y:[We,Je]},{z:[We,Je]}]),modelZ:x(b,"modelZ",[{x:[We,Je]},{y:[We,Je]},{z:[We,Je]}]),screenX:x(b,"screenX",[{x:[We,Je]},{y:[We,Je]},{z:[We,Je]}]),screenY:x(b,"screenY",[{x:[We,Je]},{y:[We,Je]},{z:[We,Je]}]),screenZ:x(b,"screenZ",[{x:[We,Je]},{y:[We,Je]},{z:[We,Je]}])},qe=Sk.builtin,Qe=qe.int_,$e=qe.float_,et={bezier:x(b,"bezier",[{x1:[Qe,$e]},{y1:[Qe,$e]},{z1:[Qe,$e]},{cx1:[Qe,$e]},{cy1:[Qe,$e]},{cz1:[Qe,$e]},{cx2:[Qe,$e]},{cy2:[Qe,$e]},{cz2:[Qe,$e],optional:T},{x2:[Qe,$e],optional:T},{y2:[Qe,$e],optional:T},{z2:[Qe,$e],optional:T}]),bezierDetail:x(b,"bezierDetail",[{detail:Qe}]),bezierPoint:x(b,"bezierPoint",[{a:[Qe,$e]},{b:[Qe,$e]},{c:[Qe,$e]},{d:[Qe,$e]},{t:[Qe,$e]}]),bezierTangent:x(b,"bezierTangent",[{a:[Qe,$e]},{b:[Qe,$e]},{c:[Qe,$e]},{d:[Qe,$e]},{t:[Qe,$e]}]),curve:x(b,"curve",[{x1:[Qe,$e]},{y1:[Qe,$e]},{z1:[Qe,$e]},{x2:[Qe,$e]},{y2:[Qe,$e]},{z2:[Qe,$e]},{x3:[Qe,$e]},{y3:[Qe,$e]},{z3:[Qe,$e],optional:T},{x4:[Qe,$e],optional:T},{y4:[Qe,$e],optional:T},{z4:[Qe,$e],optional:T}]),curveDetail:x(b,"curveDetail",[{detail:Qe}]),curvePoint:x(b,"curvePoint",[{a:[Qe,$e]},{b:[Qe,$e]},{c:[Qe,$e]},{d:[Qe,$e]},{t:[Qe,$e]}]),curveTangent:x(b,"curveTangent"[{t:[Qe,$e]}]),curveTightness:x(b,"curveTightness",[{squishy:[Qe,$e]}])},tt=Sk.ffi,nt=tt.remapToPy,ot=tt.remapToJs,it=Sk.builtin,rt=it.func,at=it.int_,lt=Sk.misceval.buildClass,ut=H.ARROW,st=H.CROSS,ct=H.HAND,pt=H.MOVE,_t=H.TEXT,dt=H.WAIT;function ft(e,t){t.__getattr__=new rt(function(e,t){switch(ot(t)){case"frameCount":return nt(b.frameCount);case"frameRate":return nt(b.frameRate);case"height":return nt(b.height);case"width":return nt(b.width);case"online":return nt(b.online);case"focused":return nt(b.focused);default:return}})}function vt(e,t){t.__init__=x(function(e){e.v=b.__frameRate},"__init__",[R]),t.__call__=x(function(e,t){b.frameRate(t),e.v=t},"__call__",[R,{rate:at}])}var mt=x(b,"cursor",[{image:["PImage",at],allowed:[ut,st,ct,pt,_t,dt],optional:T},{x:at,optional:T},{y:at,optional:T}]),gt=x(b,"noCursor"),ht=function(){return nt(b.height)},Et=function(){return nt(b.width)},St=function(){return nt(b.frameCount)},Pt=function(){return nt(b.focused)},xt=Sk.builtin.str,yt={loadBytes:x(b,"loadBytes",[{filename:xt}]),loadStrings:x(b,"loadStrings"[{filename:xt}]),createInput:I,selectFolder:I,selectInput:I},Tt=H.LEFT,At=H.CENTER,Rt=H.RIGHT,It=H.TOP,bt=H.BOTTOM,wt=H.BASELINE,kt=H.MODEL,Ot=H.SCREEN,Dt=H.SHAPE,Lt=Sk.builtin,Ct=Lt.int_,Nt=Lt.float_,Mt=Lt.str,Gt={textAlign:x(b,"textAlign",[{ALIGN:Ct,allowed:[Tt,At,Rt]},{YALIGN:Ct,allowed:[It,bt,wt,At]}]),textLeading:x(b,"textLeading",[{dist:[Ct,Nt]}]),textMode:x(b,"textMode",[{MODE:Ct,allowed:[kt,Ot,Dt]}]),textSize:x(b,"textSize",[{size:[Ct,Nt]}]),textWidth:x(b,"textWidth",[{width:Mt}])},Bt={textAscent:x(b,"textAscent"),textDescent:x(b,"textDescent")},Ft=Sk.builtin,zt=Ft.func,Vt=Ft.float_,Ht=Ft.list,Ut=Ft.str,Xt=Ft.bool,Yt=Ft.int_,jt=Sk.misceval,Zt=jt.buildClass,Wt=jt.callsim,Jt=jt.loadname;function Kt(e,t){t.__init__=x(function(e,t){t&&(e.v=new b.PFont(t))},"__init__",[R,{"input ":Ut,optional:T}]);var n=Jt("staticmethod",e),o=new zt(function(){return new Ht(b.PFont.list())});t.list=Wt(n,o)}var qt=x(function(e,t,n,o){var i=b.createFont(e,t,n,o),r=Wt(p.PFont);return r.v=i,r},"createFont",[{name:Ut},{size:[Yt,Vt]},{smooth:Xt,optional:T},{charset:Ut,optional:T}]),Qt=x(b,"loadFont",[{fontname:Ut}]),$t=x(b,"text",[{data:[Ut,Yt,Vt]},{x:[Yt,Vt]},{y:[Yt,Vt]},{z:[Yt,Vt],optional:T},{height:[Yt,Vt],optional:T},{z:[Yt,Vt],optional:T}]),en=x(b,"textFont",[{font:"PFont"},{size:[Yt,Vt],optional:T}]),tn=V.P2D,nn=V.JAVA2D,on=V.WEBGL,rn=V.P3D,an=V.OPENGL,ln=V.PDF,un=V.DXF,sn=Sk.builtin,cn=sn.int_,pn=sn.func,_n=Sk.misceval,dn=_n.buildClass,fn=_n.callsim,vn=Sk.ffi,mn=vn.remapToPy,gn=vn.remapToJs;function hn(r,e,t,n){r.v=b.createGraphics(e,t,n),void 0!==n&&n!==tn&&n!==nn||(r.v.toImageData=function(e,t,n,o){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:b.width,o=void 0!==o?o:b.height;for(var i=void 0;void 0===i;)i=r.v.externals.context.getImageData(e,t,n,o);return i})}function En(e,t){t.__init__=x(hn,"__init__",[R,{width:cn},{height:cn},{renderer:cn,allowed:[tn,nn,on,rn,an,ln,un],optional:T}]),t.beginDraw=new pn(function(e){e.v.beginDraw()}),t.endDraw=new pn(function(e){e.v.endDraw()}),t.__getattr__=new pn(function(e,t){var n=e.v[gn(t)];if(void 0!==n)return"function"==typeof n?new pn(function(e){var t=Array.from(arguments).map(gn);return mn(n.apply(e.v,t))}):mn(n)})}var Sn=new pn(function(e,t,n){return fn(p.PGraphics,e,t,n)}),Pn=new pn(function(e){b.hint(e)}),xn=Sk.builtin,yn=xn.func,Tn=xn.int_,An=xn.list,Rn=xn.str,In=xn.float_,bn=xn.lng,wn=xn.IOError,kn=xn.list_iter_,On=Sk.misceval,Dn=On.buildClass,Ln=On.callsim,Cn=On.Suspension,Nn=Sk.ffi,Mn=Nn.remapToJs,Gn=Nn.remapToPy,Bn=H.BLEND,Fn=H.ADD,zn=H.SUBTRACT,Vn=H.LIGHTEST,Hn=H.DARKEST,Un=H.DIFFERENCE,Xn=H.EXCLUSION,Yn=H.MULTIPLY,jn=H.SCREEN,Zn=H.OVERLAY,Wn=H.HARD,Jn=H.LIGHT,Kn=H.SOFT_LIGHT,qn=H.DODGE,Qn=H.BURN,$n=H.THRESHOLD,eo=H.GRAY,to=H.INVERT,no=H.POSTERIZE,oo=H.BLUR,io=H.OPAQUE,ro=H.ERODE,ao=H.DILATE,lo=H.CORNER,uo=H.CORNERS,so=H.CENTER,co=H.RGB,po=H.ARGB,_o=H.ALPHA,fo=null;function vo(e,t,n,o){e.v=new b.PImage(t,n,o)}function mo(e,t,n,o,i){var r=[t,n,o,i].filter(function(e){return void 0!==e});if(2==r.length)return e.v.get.apply(e.v,r);var a=Ln(p.PImage);return a.v=e.v.get.apply(e.v,r),a}function go(e,t,n,o){e.v.set(t,n,o)}function ho(e,t,n,o,i,r,a,l,u,s){return e.v.copy(t,n,o,i,r,a,l,u,s)}function Eo(e,t){e.v.mask(t)}function So(e,t,n,o,i,r,a,l,u,s){e.v.blend(t,n,o,i,r,a,l,u,s)}function Po(e,t,n){e.v.filter(t,n)}function xo(e,t){e.v.save(t)}function yo(e,t,n){e.v.save(t,n)}function To(e){e.v.loadPixels()}function Ao(e,t,n,o,i){e.v.updatePixels(t,n,o,i)}function Ro(e,t){t.__init__=x(function(e,t){e.image=t},"__init__",[R,{image:"PImage",optional:T}]),t.__getitem__=x(function(e,t){return e.image.pixels.getPixel(t)},"__getitem__",[R,{index:Tn}]),t.__setitem__=x(function(e,t,n){return e.image.pixels.setPixel(t,n)},"__setitem__",[R,{index:Tn},{color:[Tn,bn,In,Rn],converter:y}]),t.__iter__=new Sk.builtin.func(function(e){return Sk.builtin.pyCheckArgs("__iter__",arguments,0,0,!0,!1),new kn(new An(e.image.pixels.toArray()))}),t.__repr__=x(function(e){return"array('i', [".concat(e.image.pixels.toArray().join(", "),"])")},"__repr__",[R]),t.__len__=x(function(e){return e.image.width*e.image.height},"__len__",[R])}function Io(e,t){t.__init__=x(vo,"__init__",[R,{width:[Tn,Rn],optional:T},{height:Tn,optional:T},{format:Tn,allowed:[1,2,4],optional:T}]),t.__getattr__=new yn(function(e,t){return"width"===(t=Mn(t))?Gn(e.v.width):"height"===t?Gn(e.v.height):"pixels"===t?Ln(fo,e):void 0}),t.get=x(mo,"get",[R,{x:Tn},{y:Tn},{width:Tn,optional:T},{height:Tn,optional:T}]),t.set=x(go,"set",[R,{x:Tn},{y:Tn},{color:[Tn,bn,In,Rn],converter:y}]),t.copy=x(ho,"copy",[R,{srcImg:[Tn,"PImage"]},{sx:Tn},{sy:Tn},{swidth:Tn},{sheight:Tn},{dx:Tn},{dy:Tn},{dwidth:Tn},{dheight:Tn,optional:T}]),t.mask=x(Eo,"mask",[R,{maskImg:["PImage",An]}]),t.blend=x(So,"blend",[R,{srcImg:[Tn,"PImage"]},{x:Tn},{y:Tn},{width:Tn},{height:Tn},{dx:Tn},{dy:Tn},{dwidth:Tn},{dheight:Tn},{MODE:Tn,optional:T,allowed:[Bn,Fn,zn,Vn,Hn,Un,Xn,Yn,jn,Zn,Wn,Jn,Kn,qn,Qn]}]),t.filter=x(Po,"filter",[R,{MODE:Tn,allowed:[$n,eo,to,no,oo,io,ro,ao]},{srcImg:"PImage",optional:T}]),t.save=x(xo,"save",[R,{filename:Rn}]),t.resize=x(yo,"resize",[R,{wide:Tn},{high:Tn}]),t.loadPixels=x(To,"loadPixels",[R]),t.updatePixels=x(Ao,"updatePixels",[R,{x:Tn,optional:T},{y:Tn,optional:T},{w:Tn,optional:T},{h:Tn,optional:T}])}var bo=x(function(e,t,n){var o=Sk.misceval.callsim(p.PImage);return o.v=b.createImage(e,t,n),o},"createFunc",[{width:Tn},{height:Tn},{format:Tn,allowed:[co,po,_o]}]),wo=x(b,"image",[{img:["PImage","PGraphics"]},{x:[Tn,In]},{y:[Tn,In]},{width:[Tn,In],optional:T},{height:[Tn,In],optional:T}]),ko=x(b,"imageMode",[{mode:Tn,allowed:[lo,uo,so]}]),Oo=x(function(t){var o=t;"function"==typeof Sk.imageProxy&&(o=Sk.imageProxy(t));var e=new Cn;return e.resume=function(){if(e.data.error)throw e.data.error;return e.data.result},e.data={type:"Sk.promise",promise:Promise.race([new Promise(function(e){return setTimeout(e,3e3)}),new Promise(function(e){var t=Ln(p.PImage),n=b.loadImage(o,{},function(){t.v=n,e(t)})})]).then(function(e){if(e)return e;throw new wn("[Errno 2] No such file or directory: '".concat(t,"'"))})},e},"loadImage",[{image:Rn},{extension:Rn,optional:T,ignored:A}]),Do=x(b,"noTint"),Lo=x(function(e,t){var n=Sk.misceval.callsim(p.PImage);return n.v=b.requestImage(e,t),n},"requestImage",[{filename:Rn},{extension:Rn,optional:T}]),Co=x(b,"tint",[{value1:[Tn,bn,In,Rn],converter:y},{value2:[Tn,In],optional:T},{value3:[Tn,In],optional:T},{alpha:[Tn,In],optional:T}]),No=x(b,"blend",[{srcImg:[Tn,"PImage"]},{x:Tn},{y:Tn},{width:Tn},{height:Tn},{dx:Tn},{dy:Tn},{dwidth:Tn},{dheight:Tn},{MODE:Tn,optional:T,allowed:[Bn,Fn,zn,Vn,Hn,Un,Xn,Yn,jn,Zn,Wn,Jn,Kn,qn,Qn]}]),Mo=x(b,"copy",[{srcImg:[Tn,"PImage"]},{sx:Tn},{sy:Tn},{swidth:Tn},{sheight:Tn},{dx:Tn},{dy:Tn},{dwidth:Tn},{dheight:Tn,optional:T}]),Go=x(b,"filter",[{MODE:Tn,allowed:[$n,eo,to,no,oo,io,ro,ao]},{srcImg:"PImage",optional:T}]),Bo=x(b,"get",[{x:Tn,optional:T},{y:Tn,optional:T},{width:Tn,optional:T},{height:Tn,optional:T}]),Fo=x(b,"loadPixels"),zo=x(b,"set",[{x:Tn},{y:Tn},{image:["PImage",Tn,bn,In,Rn],converter:y}]),Vo=x(b,"updatePixels");function Ho(){var e=Ln(fo);return e.image={pixels:b.pixels},e}var Uo=V.CODED,Xo=Sk.ffi,Yo=Xo.remapToPy,jo=Xo.remapToJs,Zo=Sk.builtin.func,Wo=Sk.misceval.buildClass;function Jo(e,t){t.__getattr__=new Zo(function(e,t){var n=jo(t);return"key"===n?Ko():"keyCode"===n?qo():"keyPressed"===n?Qo():void 0})}var Ko=function(){return b.key.code===Uo?Yo(b.key.code):Yo(b.key.toString())},qo=function(){return Yo(b.keyCode)},Qo=function(){return Yo(b.__keyPressed)},$o=Sk.builtin,ei=$o.int_,ti=$o.float_,ni={ambientLight:x(b,"ambientLight",[{v1:[ei,ti]},{v2:[ei,ti]},{v3:[ei,ti]},{x:[ei,ti],optional:T},{y:[ei,ti],optional:T},{z:[ei,ti],optional:T}]),directionalLight:x(b,"directionalLight",[{v1:[ei,ti]},{v2:[ei,ti]},{v3:[ei,ti]},{nx:[ei,ti],optional:T},{ny:[ei,ti],optional:T},{nz:[ei,ti],optional:T}]),lightFalloff:x(b,"lightFalloff",[{constant:[ei,ti]},{linear:[ei,ti]},{quardatic:[ei,ti]}]),lightSpecular:x(b,"lightSpecular",[{v1:[ei,ti]},{v2:[ei,ti]},{v3:[ei,ti]}]),lights:x(b,"lights"),noLights:x(b,"noLights"),normal:x(b,"normal",[{nx:[ei,ti]},{ny:[ei,ti]},{nz:[ei,ti]}]),pointLight:x(b,"pointLight",[{v1:[ei,ti]},{v2:[ei,ti]},{v3:[ei,ti]},{nx:[ei,ti]},{ny:[ei,ti]},{nz:[ei,ti]}]),spotLight:x(b,"spotLight",[{v1:[ei,ti]},{v2:[ei,ti]},{v3:[ei,ti]},{x:[ei,ti]},{y:[ei,ti]},{z:[ei,ti]},{nx:[ei,ti]},{ny:[ei,ti]},{nz:[ei,ti]},{angle:[ei,ti]},{concentration:[ei,ti]}])},oi=Sk.builtin,ii=oi.int_,ri=oi.float_,ai=oi.str,li=oi.lng,ui={ambient:x(b,"ambient",[{gray:[ii,li,ri,ai],converter:y},{v1:[ii,ri],optional:T},{v2:[ii,ri],optional:T},{v3:[ii,ri],optional:T}]),emissive:x(b,"emissive",[{gray:[ii,li,ri,ai],converter:y},{v1:[ii,ri],optional:T},{v2:[ii,ri],optional:T},{v3:[ii,ri],optional:T}]),shininess:x(b,"shininess",[{shine:[ii,ri]}]),specular:x(b,"specular",[{gray:[ii,li,ri,ai],converter:y},{v1:[ii,ri],optional:T},{v2:[ii,ri],optional:T},{v3:[ii,ri],optional:T}])},si=Sk.ffi,ci=si.remapToPy,pi=si.remapToJs,_i=Sk.builtin.func,di=Sk.misceval.buildClass;function fi(e,t){t.__getattr__=new _i(function(e,t){switch(pi(t)){case"x":return ci(b.mouseX);case"y":return ci(b.mouseY);case"px":return ci(b.pmouseX);case"py":return ci(b.pmouseY);case"pressed":return ci(b.__mousePressed);case"button":return ci(b.mouseButton);default:return}})}var vi=function(){return ci(b.mouseX)},mi=function(){return ci(b.mouseY)},gi=function(){return ci(b.pmouseX)},hi=function(){return ci(b.pmouseY)},Ei=function(){return ci(b.__mousePressed)},Si=function(){return ci(b.mouseButton)},Pi=Sk.builtin,xi=Pi.object,yi=Pi.str,Ti=Pi.list,Ai=Sk.misceval.print_,Ri={println:x(function(e){Ai(e),Ai("\n")},"println",[{data:xi}]),save:x(b,"save",[{filename:yi}]),saveFrame:x(b,"saveFrame",[{filename:yi},{ext:yi,allowed:["tif","tga","jpg","png"]}]),saveStrings:x(b,"saveStrings",[{filename:yi},{strings:Ti}]),PrintWriter:I,beginRaw:I,beginRecord:I,createOutput:I,createReader:I,createWriter:I,endRaw:I,endRecord:I,saveBytes:I,saveStream:I,selectOuput:I},Ii=Sk.builtin,bi=Ii.float_,wi=Ii.int_,ki={noise:x(b,"noise",[{x:[wi,bi]},{y:[wi,bi],optional:T},{z:[wi,bi],optional:T}]),noiseDetail:x(b,"noiseDetail",[{octave:wi},{falloff:[wi,bi],optional:T}]),noiseSeed:x(b,"noiseSeed",[{value:wi}]),randomSeed:x(b,"randomSeed",[{value:wi}]),random:x(b,"random",[{low:[wi,bi]},{high:[wi,bi],optional:T}]),randomGaussian:x(b,"randomGaussian")},Oi=Sk.ffi,Di=Oi.remapToJs,Li=Oi.remapToPy,Ci=Sk.misceval.buildClass,Ni=Sk.builtin,Mi=Ni.list,Gi=Ni.func;function Bi(e,t){t.__init__=new Gi(function(e){e.pixels=null}),t.__getattr__=new Gi(function(e,t){switch(t=Di(t)){case"height":return Li(ba.height);case"width":return Li(ba.width);case"pixels":return null==e.pixels&&(e.pixels=new Mi(ba.pixels.toArray())),e.pixels}})}var Fi=H.CORNER,zi=H.CORNERS,Vi=H.CENTER,Hi=Sk.builtin,Ui=Hi.str,Xi=Hi.int_,Yi=Hi.float_,ji=Hi.bool,Zi=Sk.ffi,Wi=Zi.remapToJs,Ji=Zi.remapToPy,Ki=Sk.misceval.buildClass;function qi(e){return e.v.isVisible()}function Qi(e,t){e.v.setVisible(t)}function $i(e){e.v.disableStyle()}function er(e){e.v.enableStyle()}function tr(e,t){var n=e.v.getChild(t);if(null==n)return null;var o=Sk.misceval.callsim(p.PShape);return o.v=n,o}function nr(e,t,n,o){e.v.translate(t.v,n.v,o.v)}function or(e,t){e.v.rotate(t)}function ir(e,t){e.v.rotateX(t)}function rr(e,t){e.v.rotateY(t)}function ar(e,t){e.v.rotateZ(t)}function lr(e,t,n,o){e.v.scale(t,n,o)}function ur(e,t){t.__getattr__=new Sk.builtin.func(function(e,t){switch(t=Wi(t)){case"width":return Ji(e.v.width);case"height":return Ji(e.v.height)}}),t.isVisible=x(qi,"isVisible",[R]),t.setVisible=x(Qi,"setVisible"[{value:ji}]),t.disableStyle=x($i,"disableStyle",[R]),t.enableStyle=x(er,"enableStyle",[R]),t.getChild=x(tr,"getChild",[R,{shape:p.PShape}]),t.translate=x(nr,"translate",[R,{x:[Xi,Yi]},{y:[Xi,Yi]},{z:[Xi,Yi],optional:T}]),t.rotate=x(or,"rotate",[R,{angle:[Xi,Yi]}]),t.rotateX=x(ir,"rotateX",[R,{angle:[Xi,Yi]}]),t.rotateY=x(rr,"rotateY",[R,{angle:[Xi,Yi]}]),t.rotateZ=x(ar,"rotateZ",[R,{angle:[Xi,Yi]}]),t.scale=x(lr,"scale"[{z:[Xi,Yi],optional:T}])}var sr={loadShape:x(b,"loadShape",[{filename:Ui}]),shape:x(b,"shape",[{sh:"PShape"},{x:[Xi,Yi]},{y:[Xi,Yi]},{width:[Xi,Yi],optional:T},{height:[Xi,Yi],optional:T}]),shapeMode:x(b,"shapeMode",[{img:Xi,allowed:[Fi,zi,Vi]}])},cr=Sk.builtin,pr=cr.int_,_r=cr.float_,dr=cr.str,fr=cr.list,vr={join:x(b,"join",[{stringArray:fr},{separator:dr}]),match:x(b,"match",[{str:dr},{regexp:dr}]),matchAll:x(b,"matchAll",[{str:dr},{regexp:dr}]),nf:x(b,"nf",[{value:[pr,_r,fr]},{digits:pr},{right:pr,optional:T}]),nfc:x(b,"nfc",[{value:[pr,_r,fr]},{right:pr,optional:T}]),nfp:x(b,"nfp",[{value:[pr,_r,fr]},{digits:pr},{right:pr,optional:T}]),nfs:x(b,"nfs",[{value:[pr,_r,fr]},{digits:pr},{right:pr,optional:T}]),split:x(b,"split",[{string:dr},{delimiter:dr}]),splitTokens:x(b,"splitTokens",[{string:dr},{delimiter:dr,optional:T}]),trim:x(b,"trim",[{strOrArray:[dr,fr]}])},mr=Sk.builtin,gr=mr.int_,hr=mr.object,Er=H.P2D,Sr=H.JAVA2D,Pr=H.WEBGL,xr=H.P3D,yr=H.OPENGL,Tr=H.PDF,Ar=H.DXF;var Rr={loop:x(function(){if(Aa())throw new Sk.builtin.Exception("loop() should be called after run()");ba.loop()},"loop"),noLoop:x(function(){if(Aa())throw new Sk.builtin.Exception("noLoop() should be called after run()");b.noLoop()},"noLoop"),size:x(function(e,t,n){void 0!==n&&n!==Er&&n!==Sr||(ba.toImageData=function(e,t,n,o){e=void 0!==e?e:0,t=void 0!==t?t:0,n=void 0!==n?n:ba.width,o=void 0!==o?o:ba.height;for(var i=void 0;void 0===i;)i=ba.externals.context.getImageData(e,t,n,o);return i}),ba.size(e,t,n)},"size",[{width:gr},{height:gr},{renderer:gr,allowed:[Er,Sr,Pr,xr,yr,Tr,Ar],optional:T}]),exit:x(b,"exit"),redraw:x(b,"redraw"),pushStyle:O(k,[{__call__:x(function(e){return b.pushStyle(),e},"__call__",[R]),__enter__:x(function(e){return e},"__enter__",[R]),__exit__:x(function(){return b.popStyle()},"__exit__",[R,{exc_type:hr,ignored:A},{exc_value:hr,ignored:A},{traceback:hr,ignored:A}])},"pushStyle"],"pushStyle"),popStyle:x(b,"popStyle")},Ir={day:x(b,"day"),hour:x(b,"hour"),millis:x(b,"millis"),minute:x(b,"minute"),month:x(b,"month"),second:x(b,"second"),year:x(b,"year")},br=Sk.builtin,wr=br.float_,kr=br.int_,Or=br.object,Dr={applyMatrix:x(b,"applyMatrix",[{n00:[kr,wr]},{n01:[kr,wr]},{n02:[kr,wr]},{n03:[kr,wr]},{n04:[kr,wr]},{n05:[kr,wr]},{n06:[kr,wr]},{n07:[kr,wr]},{n08:[kr,wr]},{n09:[kr,wr]},{n10:[kr,wr]},{n11:[kr,wr]},{n12:[kr,wr]},{n13:[kr,wr]},{n14:[kr,wr]},{n15:[kr,wr]}]),popMatrix:x(b,"popMatrix"),printMatrix:x(b,"printMatrix"),pushMatrix:O(k,[{__call__:x(function(e){return b.pushMatrix(),e},"__call__",[R]),__enter__:x(function(e){return e},"__enter__",[R]),__exit__:x(function(){return b.popMatrix()},"__exit__",[R,{exc_type:Or,ignored:A},{exc_value:Or,ignored:A},{traceback:Or,ignored:A}])},"pushMatrix"],"pushMatrix"),resetMatrix:x(b,"resetMatrix"),rotate:x(b,"rotate",[{angle:[kr,wr]}]),rotateX:x(b,"rotateX",[{angle:[kr,wr]}]),rotateY:x(b,"rotateY",[{angle:[kr,wr]}]),rotateZ:x(b,"rotateZ",[{angle:[kr,wr]}]),scale:x(b,"scale",[{size:[kr,wr]},{y:[kr,wr],optional:T},{z:[kr,wr],optional:T}]),translate:x(b,"translate",[{x:[kr,wr]},{y:[kr,wr]},{z:[kr,wr],optional:T}])},Lr=Sk.builtin,Cr=Lr.int_,Nr=Lr.float_,Mr={degrees:x(b,"degrees",[{angle:[Cr,Nr]}]),radians:x(b,"radians",[{angle:[Cr,Nr]}]),cos:x(b,"cos",[{angle:[Cr,Nr]}]),sin:x(b,"sin",[{angle:[Cr,Nr]}]),tan:x(b,"tan",[{angle:[Cr,Nr]}]),acos:x(b,"acos",[{value:[Cr,Nr]}]),asin:x(b,"asin",[{value:[Cr,Nr]}]),atan:x(b,"tan",[{angle:[Cr,Nr]}]),atan2:x(b,"atan2",[{x:[Cr,Nr]},{y:[Cr,Nr]}])},Gr=Sk.builtin,Br=Gr.int_,Fr=Gr.float_,zr=Sk.misceval,Vr=zr.callsim,Hr=zr.buildClass,Ur=Sk.ffi.remapToPy;function Xr(e,t,n,o){e.v=new ba.PVector(t,n,o)}function Yr(e,t,n,o){e.v.set(t,n,o)}function jr(e){var t=Vr(p.PVector);return t.v=e.v.get(),t}function Zr(e,t){var n=Vr(p.PVector);return n.v=e.v.add(t),n}function Wr(e,t){var n=Vr(p.PVector);return n.v=e.v.sub(t),n}function Jr(e,t){var n=Vr(p.PVector);return n.v=e.v.mult(t),n}function Kr(e,t){var n=Vr(p.PVector);return n.v=e.v.div(t),n}function qr(e,t){var n=Vr(p.PVector);return n.v=e.v.dot(t),n}function Qr(e,t){var n=Vr(p.PVector);return n.v=e.v.cross(t),n}function $r(e,t){var n=Vr(p.PVector);return n.v=e.v.dist(t),n}function ea(e,t){var n=Vr(p.PVector);return n.v=e.v.angleBetween(t),n}function ta(e,t){e.v.limit(t)}function na(e,t){t.__init__=x(Xr,"__init__",[R,{x:Br,optional:T},{y:Br,optional:T},{z:Br,optional:T}]),t.__getattr__=new Sk.builtin.func(function(e,t){return"x"===(t=Sk.ffi.remapToJs(t))?Ur(e.v.x):"y"===t?Ur(e.v.y):"z"===t?Sk.builtin.assk$(e.v.z):void 0}),t.get=x(jr,"get",[R]),t.set=x(Yr,"set",[R,{x:Br},{x:Br,optional:T},{x:Br,optional:T}]),t.mag=x(function(e){return e.v.mag()},"mag",[R]),t.add=x(Zr,"add",[R,{vector:"PVector"}]),t.sub=x(Wr,"sub",[R,{vector:"PVector"}]),t.mult=x(Jr,"mult",[R,{vector:"PVector"}]),t.div=x(Kr,"div",[R,{vector:"PVector"}]),t.dist=x($r,"dist",[R,{vector:"PVector"}]),t.dot=x(qr,"dot",[R,{x:[Br,Fr]},{y:[Br,Fr],optional:T},{z:[Br,Fr],optional:T}]),t.cross=x(Qr,"cross",[R,{vector:"PVector"}]),t.normalize=x(function(e){return e.normalize()},"normalize",[R]),t.limit=x(ta,"limit",[R,{value:[Br,Fr]}]),t.angleBetween=x(ea,"angleBetween",[R,{vector:"PVector"}]),t.array=x(function(e){return e.v.array()},"array",[R]),t.__repr__=x(function(e){return e.v.toString()},"repr",[R])}var oa=Sk.builtin,ia=oa.float_,ra=oa.int_,aa=oa.object,la=H.IMAGE,ua=H.NORMALIZED,sa=H.POINTS,ca=H.LINES,pa=H.TRIANGLES,_a=H.TRIANGLE_FAN,da=H.TRIANGLE_STRIP,fa=H.QUADS,va=H.QUAD_STRIP,ma=H.CLOSE,ga={beginShape:O(k,[{__call__:x(function(e,t){return b.beginShape(t),e},"__call__",[R,{MODE:ra,allowed:[sa,ca,pa,_a,da,fa,va],optional:T}]),__enter__:x(function(e){return e},"__enter__",[R]),__exit__:x(function(){return b.endShape},"__exit__",[R,{exc_type:aa,ignored:A},{exc_value:aa,ignored:A},{traceback:aa,ignored:A}])},"beginShape"],"beginShape"),beginClosedShape:O(k,[{__call__:x(function(e,t){return b.beginShape(t),e},"__call__",[R,{MODE:ra,allowed:[sa,ca,pa,_a,da,fa,va],optional:T}]),__enter__:x(function(e){return e},"__enter__"[R]),__exit__:x(function(){return b.endShape(V.CLOSE)},"__exit__",[R,{exc_type:aa,ignored:A},{exc_value:aa,ignored:A},{traceback:aa,ignored:A}])},"beginClosedShape"],"beginClosedShape"),endShape:x(b,"endShape",[{MODE:ra,allowed:[ma],optional:T}]),vertex:x(b,"vertex",[{x:[ra,ia]},{y:[ra,ia]},{z:[ra,ia],optional:T},{u:[ra,ia],optional:T},{v:[ra,ia],optional:T}]),bezierVertex:x(b,"bezierVertex",[{cx1:[ra,ia]},{cy1:[ra,ia]},{cz1:[ra,ia]},{cx2:[ra,ia]},{cy2:[ra,ia]},{cz2:[ra,ia]},{x:[ra,ia],optional:T},{y:[ra,ia],optional:T},{z:[ra,ia],optional:T}]),curveVertex:x(b,"curveVertex",[{x:[ra,ia]},{y:[ra,ia]},{z:[ra,ia],optional:T}]),texture:x(b,"texture",[{img:"PImage"}]),textureMode:x(b,"textureMode",[{img:ra,allowed:[la,ua]}])},ha=Sk.builtin.str,Ea={link:x(b,"link"[{target:ha,optional:T}]),status:x(b,"status",[{text:ha}])},Sa=Sk.misceval,Pa=Sa.callsim,xa=Sa.asyncToPromise,ya=Sa.callsimOrSuspend,Ta={};function Aa(){return null==p.processingInstance}p.processingInstance={};var Ra,Ia,ba=b,wa=null,ka=!0,Oa=function(){return!0};p.isInitialised=Aa,p.processing=ba,p.init=function(e,t,n,o){if(Ra=t,void 0!==n&&"function"!=typeof n)throw new Error("breakHandler must be a function if anything");Ia=n,Sk.externalLibraries=Sk.externalLibraries||{},_(Sk.externalLibraries,{"./processing/__init__.js":{path:"".concat(e,"/__init__.js")}}),"function"==typeof o&&(Oa=o)},p.main=function(){var e;p.PImage=(fo=Dn(e=Ta,Ro,"ImageProxy",[]),Dn(e,Io,"PImage",[])),p.PShape=Ki(Ta,ur,"PShape",[]),p.PGraphics=dn(Ta,En,"PGraphics",[]),p.PVector=Hr(Ta,na,"PVector",[]),p.PFont=Zt(Ta,Kt,"PFont",[]);var t=lt(Ta,ft,"Environment",[]),n=lt(Ta,vt,"FrameRate",[at]),o=Pa(n),i=Pa(t),r=di(Ta,fi,"Mouse",[]),a=Pa(r),l=Wo(Ta,Jo,"Keyboard",[]),u=Pa(l),s=Ci(Ta,Bi,"Screen",[]),c=Pa(s);return w(Ta),_(Ta,N,F,ne,le,_e,De,ze,{color:je},H,Ke,et,{Environment:t,environment:i,cursor:mt,noCursor:gt,height:ht,width:Et,frameCount:St,frameRate:o,focused:Pt},yt,Gt,Bt,{PFont:p.PFont,createFont:qt,loadFont:Qt,text:$t,textFont:en},{PGraphics:p.PGraphics,createGraphics:Sn,hint:Pn},{PImage:p.PImage},{image:wo,createImage:bo,imageMode:ko,loadImage:Oo,noTint:Do,requestImage:Lo,tint:Co,blend:No,copy:Mo,filter:Go,get:Bo,loadPixels:Fo,set:zo,updatePixels:Vo,pixels:Ho},{keyboard:u,Keyboard:l,keyCode:qo,key:Ko,keyPressed:Qo},ni,ui,{Mouse:r,mouse:a,mouseX:vi,mouseY:mi,pmouseX:gi,pmouseY:hi,mousePressed:Ei,mouseButton:Si},Ri,ki,{Screen:s,screen:c},{PShape:p.PShape},Rr,Ir,Dr,Mr,{PVector:p.PVector},ga,Ea,sr,vr),Ta.disableDoubleBuffer=new Sk.builtin.func(function(){return ka=!1,Sk.builtin.none.none$}),Ta.run=new Sk.builtin.func(function(){var e=new Sk.misceval.Suspension,a=null,n=null,t=null,o=null;e.resume=function(){if(e.data.error)throw e.data.error;return Sk.builtin.none.none$},e.data={type:"Sk.promise",promise:new Promise(function(e,t){a=t,n=e})};var i=new window.Processing.Sketch(function(n){function o(e){a(e),n.exit()}p.processingInstance=n,Sk.globals.setup&&(n.setup=function(){return xa(function(){return ya(Sk.globals.setup)},Ra)}),Sk.globals.draw&&(n.draw=function(){if(Ia)try{Ia()}catch(e){o(e)}return xa(function(){return ya(Sk.globals.draw)},Ra)});var i=["mouseMoved","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","keyPressed","keyReleased","keyTyped"];for(var r in i)Sk.globals[i[r]]&&function(){var e=i[r],t=Sk.globals[e];"keyPressed"==e&&(Sk.globals[e]=Qo),"mousePressed"==e&&(Sk.globals[e]=Ei),n[e]=function(){return xa(function(){return Sk.misceval.callsimOrSuspend(t)},Ra).catch(function(e){return o(e)})}}()});i.options.globalKeyEvents=!0,i.options.eventPredicate=Oa,i.onExit=function(e){e?a(e):n()},i.onSetup=function(e){e&&a(e)};var r=document.getElementById(Sk.canvas);for("CANVAS"===r.tagName&&((o=r.parentNode).removeChild(r),r=o),(t=document.createElement("canvas")).id=Sk.canvas+"-psk";r.firstChild;)r.removeChild(r.firstChild);ka?(t.style="display:none",wa=document.createElement("canvas"),r.appendChild(wa)):r.appendChild(t);var l=window.Processing.getInstanceById(Sk.canvas+"-psk");return l&&l.exit(),i.options.focusElement=r,setTimeout(function(){Ta.p=new window.Processing(t,i,null,wa)},300),e}),Ta},Object.defineProperty(p,"__esModule",{value:!0})});